<div class="flex flex-col">
  @if (contacts().length > 0) {
    @for (contact of contacts(); track trackContactById($index, contact)) {
      <contacts-list-item
        @discard
        #item
        [contact]="contact"
        [class.bg-blue-50]="selectedId() === contact.id.toString()"
        [class.border-l-4]="selectedId() === contact.id.toString()"
        [class.border-blue-600]="selectedId() === contact.id.toString()"
        (swipeStart)="onItemSwipeStart(item)"
        (select)="onSelect($event)"
        (delete)="contactDeleted.emit($event)"
        (edit)="contactEditRequested.emit($event)"
      />
    }
  } @else {
    <div class="p-4 text-center text-gray-500" data-testid="empty-list">
      No contacts found.
    </div>
  }
</div>
