<div class="h-full flex flex-col bg-white">
  <contacts-page-toolbar #toolbar>
    <div class="flex items-center gap-2">
      @if (showAddActions()) { @if (toolbar.mode() === 'full') {
      <a
        mat-stroked-button
        color="primary"
        routerLink="."
        [queryParams]="{ new: 'contact' }"
        queryParamsHandling="merge"
        >New Contact</a
      >
      <a
        mat-stroked-button
        color="primary"
        routerLink="."
        [queryParams]="{ new: 'group' }"
        queryParamsHandling="merge"
        >New Group</a
      >
      } @else {
      <a
        mat-icon-button
        color="primary"
        routerLink="."
        [queryParams]="{ new: 'contact' }"
        queryParamsHandling="merge"
        ><mat-icon>person_add</mat-icon></a
      >
      <a
        mat-icon-button
        color="primary"
        routerLink="."
        [queryParams]="{ new: 'group' }"
        queryParamsHandling="merge"
        ><mat-icon>group_add</mat-icon></a
      >
      } }
    </div>
  </contacts-page-toolbar>

  <mat-tab-group
    class="mat-tab-icon-button flex-1 h-full overflow-hidden"
    animationDuration="0ms"
    [selectedIndex]="tabIndex()"
    (selectedTabChange)="onTabChange($event)"
  >
    <mat-tab label="Contacts">
      <div class="h-full overflow-y-auto pt-2">
        @if (contacts(); as list) {
        <contacts-list
          [contacts]="list"
          [selectedId]="selectedId()"
          (contactSelected)="contactSelected.emit($event)"
        />
        }
      </div>
    </mat-tab>

    <mat-tab label="Groups">
      <div class="h-full overflow-y-auto pt-2">
        @if (groups(); as list) {
        <contacts-group-list
          [groups]="list"
          [selectedId]="selectedId()"
          (groupSelected)="groupSelected.emit($event)"
        />
        }
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
