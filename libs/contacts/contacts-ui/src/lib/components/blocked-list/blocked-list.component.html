<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      Blocked Users ({{ blocked().length }})
    </mat-panel-title>
  </mat-expansion-panel-header>

  <mat-list>
    @for (item of blocked(); track trackByUrn($index, item)) {
      <mat-list-item>
        <mat-icon matListItemIcon class="text-red-500">block</mat-icon>
        <div matListItemTitle>{{ formatUrn(item.urn) }}</div>
        <div matListItemLine>{{ item.reason || 'No reason provided' }}</div>
        <button 
          mat-icon-button 
          matListItemMeta 
          (click)="onUnblock(item)"
          aria-label="Unblock user"
          data-testid="unblock-button"
        >
          <mat-icon>delete</mat-icon>
        </button>
      </mat-list-item>
    } @empty {
      <div class="p-4 text-center text-gray-500">
        Block list is empty.
      </div>
    }
  </mat-list>
</mat-expansion-panel>