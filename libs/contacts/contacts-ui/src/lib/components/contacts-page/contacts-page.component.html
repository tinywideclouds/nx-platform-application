<div class="p-4">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">Contacts</h1>

    @if (mode() === 'full') {
      <div class="flex gap-2">
        <a
          matButton="tonal"
          color="primary"
          routerLink="new"
          data-testid="new-contact-button"
          class="toolbar-tonal-button"
        >
          New Contact
        </a>
        <a
          matButton="tonal"
          color="primary"
          routerLink="group-new"
          data-testid="new-group-button"
          class="toolbar-tonal-button"
        >
          New Group
        </a>
      </div>
    } @else {
      <div class="flex gap-2">
        <a
          mat-icon-button
          color="primary"
          routerLink="new"
          data-testid="new-contact-button"
          aria-label="New Contact"
        >
          <mat-icon>person_add</mat-icon>
        </a>
        <a
          mat-icon-button
          color="primary"
          routerLink="group-new"
          data-testid="new-group-button"
          aria-label="New Group"
        >
          <mat-icon>group_add</mat-icon>
        </a>
      </div>
    }
  </div>

  <mat-tab-group
    animationDuration="0ms"
    [selectedIndex]="tabIndex()"
    (selectedTabChange)="onTabChange($event)"
  >
    <mat-tab label="Contacts">
      <ng-template matTabContent>
        <div class="pt-2">
          <lib-contact-list
            [contacts]="contacts()"
            (contactSelected)="onContactSelect($event)"
          />
        </div>
      </ng-template>
    </mat-tab>

    <mat-tab label="Groups">
      <ng-template matTabContent>
        <div class="pt-2">
          <lib-contact-group-list
            [groups]="groups()"
            (groupSelected)="onGroupSelect($event)"
          />
        </div>
      </ng-template>
    </mat-tab>
  </mat-tab-group>
</div>