<div class="h-full bg-white overflow-y-auto flex flex-col">
  @if (group(); as g) {
    <div class="p-6 pb-2 text-center">
      <div
        class="w-20 h-20 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4"
      >
        <mat-icon class="!w-10 !h-10 text-[40px]">
          {{ isNetworkGroup() ? 'hub' : 'groups' }}
        </mat-icon>
      </div>

      @if (isNetworkGroup()) {
        <span
          class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mb-2"
        >
          Network Group
        </span>
      } @else {
        <span
          class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 mb-2"
        >
          Local List
        </span>
      }
    </div>

    @if (isNetworkGroup()) {
      <div class="mx-4 p-4 bg-gray-50 rounded-lg border border-gray-100 mb-4">
        <h3
          class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
        >
          Network Status
        </h3>

        <div class="flex items-end justify-between mb-2">
          <span class="text-xl font-bold text-gray-900"
            >{{ stats().joined
            }}<span class="text-gray-400 text-sm"
              >/{{ stats().total }}</span
            ></span
          >
          <span class="text-xs font-medium text-green-600">Active</span>
        </div>

        <mat-progress-bar
          mode="determinate"
          [value]="stats().progress"
          class="rounded h-2"
        ></mat-progress-bar>

        <div class="mt-3 flex gap-4 text-xs text-gray-500">
          <div class="flex items-center gap-1">
            <div class="w-2 h-2 rounded-full bg-green-500"></div>
            {{ stats().joined }} Joined
          </div>
          <div class="flex items-center gap-1">
            <div class="w-2 h-2 rounded-full bg-yellow-500"></div>
            {{ stats().pending }} Pending
          </div>
        </div>
      </div>
    }

    <div class="flex-grow">
      <contacts-group-form
        [group]="g"
        [allContacts]="allContacts()"
        [startInEditMode]="false"
        [readonly]="true"
        (save)="onSave($event)"
      />
    </div>
  } @else {
    <div class="p-8 text-center text-gray-500">Loading group details...</div>
  }
</div>
