@if (message() | messageContent; as p) {
  @switch (p.kind) {
    @case ('text') {
      <div
        class="whitespace-pre-wrap break-words text-sm leading-relaxed"
        (click)="onLinkClick($event)"
      >
        {{ p.text }}
      </div>
    }

    @case ('image') {
      <chat-image-message [content]="p" />
    }

    @default {
      <div class="text-xs text-red-400 italic">[Unsupported Content]</div>
    }
  }
} @else {
  <div class="text-xs text-gray-400 italic">[Corrupted Message]</div>
}
