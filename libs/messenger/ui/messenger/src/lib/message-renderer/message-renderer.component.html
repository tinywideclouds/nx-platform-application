@if (message() | messageContent; as p) {
  @switch (p.kind) {
    @case ('text') {
      <div class="text-sm leading-relaxed px-1">
        <chat-text-renderer [parts]="p.parts" />
      </div>
    }

    @case ('image') {
      <chat-image-message [message]="p" />
    }

    @default {
      <div class="text-xs text-red-400 italic">[Unsupported Content]</div>
    }
  }
}
