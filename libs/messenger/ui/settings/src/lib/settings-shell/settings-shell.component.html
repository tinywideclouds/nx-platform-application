<lib-master-detail-layout [showDetail]="showDetail()">
  <div sidebar class="h-full w-full">
    <lib-settings-sidebar (closeSettings)="onCloseSidebar()" />
  </div>

  <div main class="h-full bg-gray-50 flex flex-col w-full">
    @if (isMobile() && activePageTitle()) {
      <div
        class="bg-white border-b border-gray-200 px-4 h-14 shrink-0 flex items-center gap-2 sticky top-0 z-10 shadow-sm"
      >
        <button mat-icon-button (click)="onMobileBack()">
          <mat-icon>arrow_back</mat-icon>
        </button>
        <span class="font-semibold text-gray-800">{{ activePageTitle() }}</span>
      </div>
    }

    <div class="flex-1 overflow-y-auto">
      <div class="max-w-4xl mx-auto p-4 md:p-6 pb-20">
        <router-outlet />
      </div>
    </div>
  </div>
</lib-master-detail-layout>
