<lib-master-detail-layout [showDetail]="showDetail()">
  <div sidebar class="h-full flex flex-col border-r border-gray-200 bg-white">
    <mat-toolbar class="layout-header justify-between">
      <h1 class="text-xl font-bold truncate">Chats</h1>
      <messenger-network-status />
    </mat-toolbar>

    <div class="flex-1 overflow-y-auto">
      <chat-conversation-list
        [items]="conversationsList()"
        (conversationSelected)="onConversationSelected($event)"
      />
    </div>
  </div>

  <div main class="h-full bg-gray-50">
    <router-outlet />

    @if (!showDetail()) { @if( hasConversations()) {

    <lib-feature-placeholder
      icon="forum"
      title="Your Conversations"
      message="Select a conversation from the list to view messages."
    />
    } @else {
    <lib-feature-placeholder
      icon="chat_bubble_outline"
      title="No Chats Yet"
      message="You haven't started any conversations yet."
      actionLabel="Start New Chat"
      (action)="onStartNewChat()"
    />
    } }
  </div>
</lib-master-detail-layout>
